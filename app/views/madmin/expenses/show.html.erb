<%= content_for :title, @record.title %>

<header class="header">
  <h1>
    <%= link_to "Expenses", madmin_expenses_path %>
    /
    <%= @record.title %>
  </h1>

  <div class="actions">
    <%= link_to "Edit", edit_madmin_expense_path(@record), class: "btn btn-secondary" %>
    <%= button_to "Delete",
          madmin_expense_path(@record),
          method: :delete,
          data: {turbo_confirm: "Are you sure?"},
          class: "btn btn-danger" %>
  </div>
</header>

<!-- Expense Details -->
<div class="bg-white rounded-lg shadow mb-4">
  <div class="px-6 py-4 border-b border-gray-200">
    <h2 class="text-lg font-semibold text-gray-900">Expense Details</h2>
  </div>
  <div class="px-6 py-4">
    <div class="grid grid-cols-4 gap-4">
      <div>
        <div class="text-xs text-gray-500 uppercase tracking-wide">Title</div>
        <div class="text-sm font-medium text-gray-900 mt-1"><%= @record.title %></div>
      </div>
      <div>
        <div class="text-xs text-gray-500 uppercase tracking-wide">Amount</div>
        <div class="text-lg font-semibold text-gray-900 mt-1">
          <%= number_to_currency(@record.amount) %>
        </div>
      </div>
      <div>
        <div class="text-xs text-gray-500 uppercase tracking-wide">Date</div>
        <div class="text-sm font-medium text-gray-900 mt-1">
          <%= @record.expense_date.strftime("%B %d, %Y") %>
        </div>
      </div>
      <div>
        <div class="text-xs text-gray-500 uppercase tracking-wide">Recurrence</div>
        <div class="mt-1">
          <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
            <%= @record.recurring? ? "bg-blue-100 text-blue-800" : "bg-gray-100 text-gray-800" %>">
            <%= @record.recurrence_type.titleize %>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<% if @record.description.present? %>
  <div class="bg-white rounded-lg shadow mb-4 px-6 py-3">
    <div class="text-xs text-gray-500 uppercase tracking-wide mb-1">Description</div>
    <div class="text-sm text-gray-900"><%= @record.description %></div>
  </div>
<% end %>

<% if @record.tags.any? %>
  <div class="bg-white rounded-lg shadow mb-4 px-6 py-3">
    <div class="text-xs text-gray-500 uppercase tracking-wide mb-2">Tags</div>
    <div class="flex flex-wrap gap-2">
      <% @record.tags.each do |tag| %>
        <span class="inline-flex items-center px-3 py-1 rounded text-sm font-medium"
          style="background-color: <%= tag.color %>20; color: <%= tag.color %>;">
          <%= tag.name %>
        </span>
      <% end %>
    </div>
  </div>
<% end %>

<div class="bg-white rounded-lg shadow px-6 py-3">
  <div class="grid grid-cols-2 gap-4 text-xs text-gray-500">
    <div>
      <span class="uppercase tracking-wide">Created:</span>
      <%= @record.created_at.strftime("%B %d, %Y at %I:%M %p") %>
    </div>
    <div>
      <span class="uppercase tracking-wide">Last Updated:</span>
      <%= @record.updated_at.strftime("%B %d, %Y at %I:%M %p") %>
    </div>
  </div>
</div>
